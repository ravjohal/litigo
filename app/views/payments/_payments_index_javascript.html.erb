<% content_for :javascript do %>
  <script type="text/javascript">
    $(document).ready(function() {
      $('#add_payment').click(function(){
        $("#modal-window").html("<%= escape_javascript(render 'invoices/payment_form') %>");
      });
//      $('.table tbody').on( 'click', 'tr', function (e) {
//        var id = $(e.currentTarget).data('id');
//        $('table.rowlink').rowlink();
//      });

      $('.table').each(function(i, table) {
        $(table).dataTable({
          language: {
            search: "_INPUT_",
            searchPlaceholder: "Search",
            lengthMenu: "View _MENU_"
          },
          sDom: '<"toolbar">Rfrtlip',
          aaSorting: [[ 0, "desc" ]],
          bProcessing: true,
          bServerSide: true,
          sAjaxSource: $(table).data('source')
        });
      });
    });
  </script>
<% end %>